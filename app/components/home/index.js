import React, { Component, PropTypes } from 'react';
import ReactCSSTransitionGroup from 'react-addons-css-transition-group';
import { Link } from 'react-router';
import styles from './style.module.css';
import transitions from './transitions.module.css';
import GeneratorForm from '../generator-form/index';

export default class Home extends Component {
  static propTypes = {
    setPackagerState : PropTypes.func.isRequired,
    packagerState    : PropTypes.string.isRequired,
    history          : PropTypes.object
  };

  handleSubmit() {
    this.props.history.pushState(null, '/success' );
  }

  render() {
    const { setPackagerState, packagerState } = this.props;

    return (
      <div className="styles.container">
        <ReactCSSTransitionGroup component="div" transitionName={ transitions } transitionAppear={true} transitionAppearTimeout={5000} transitionEnterTimeout={200} transitionLeaveTimeout={200}>
          <svg className={styles.logo} viewBox="0 0 87 58" version="1.1" xmlns="http://www.w3.org/2000/svg">
            <title>Alice</title>
            <g stroke="none" strokeWidth="1" fill="none" fill-rule="evenodd">
              <path d="M67.0731918,40.8278503 C66.2665436,41.9521502 65.3288147,42.9615309 64.26,43.856 C62.0039887,45.7440094 59.7080117,46.688 57.372,46.688 C55.771992,46.688 54.476005,46.1600053 53.484,45.104 C52.491995,44.0479947 51.996,42.5280099 51.996,40.544 C51.996,40.4147505 51.9978775,40.2859138 52.0016326,40.15749 C51.322965,41.263181 50.5290894,42.2080147 49.62,42.992 C47.8759913,44.4960075 46.0440096,45.248 44.124,45.248 C42.9399941,45.248 42.0280032,44.8720038 41.388,44.12 C40.7479968,43.3679962 40.428,42.4000059 40.428,41.216 C40.428,40.8609993 40.4551869,40.4710455 40.509561,40.0461374 C38.2769462,43.6420599 35.8977735,45.44 33.372,45.44 L33.324,45.44 C30.7639872,45.44 29.484,43.7920165 29.484,40.496 C29.484,40.1821321 29.4969823,39.8531189 29.522947,39.50896 C28.7956791,40.8794436 27.9746997,42.056452 27.06,43.04 C25.5719926,44.640008 24.0440078,45.44 22.476,45.44 C19.9799875,45.44 18.732,43.2960214 18.732,39.008 C18.732,36.9599898 19.0039973,34.5760136 19.548,31.856 C17.4999898,31.5359984 15.1320134,31.2160016 12.444,30.896 C9.30798432,36.6560288 6.52401216,42.4159712 4.092,48.176 C3.00399456,47.567997 2.46,46.7360053 2.46,45.68 C2.46,43.279988 4.89197568,38.2720381 9.756,30.656 C7.80399024,30.4959992 6.07600752,30.416 4.572,30.416 L2.892,30.416 C3.50000304,28.7519917 5.1639864,27.92 7.884,27.92 C8.71600416,27.92 9.86799264,28.0319989 11.34,28.256 C13.8040123,24.5439814 16.3079873,21.0480164 18.852,17.768 C21.3960127,14.4879836 23.4039926,12.1600069 24.876,10.784 C25.8040046,9.88799552 26.571997,9.44 27.18,9.44 C27.8520034,9.44 28.6999949,9.95199488 29.724,10.976 C28.6679947,11.8080042 27.1560098,15.7839644 25.188,22.904 C23.2199902,30.0240356 22.236,35.5519803 22.236,39.488 C22.236,42.0480128 22.8279941,43.328 24.012,43.328 C25.6704271,43.328 27.6271616,41.2254784 29.882256,37.0203758 C30.1923804,35.4862308 30.6836274,33.7407767 31.356,31.784 C32.6040062,28.1519818 34.0519918,24.7120162 35.7,21.464 C37.3480082,18.2159838 39.0119916,15.4000119 40.692,13.016 C42.3720084,10.6319881 43.611996,9.44 44.412,9.44 C44.8600022,9.44 45.2359985,9.839996 45.54,10.64 C45.8440015,11.440004 45.996,12.2239962 45.996,12.992 C45.996,15.392012 44.6840131,19.0479754 42.06,23.96 C39.4359869,28.8720246 36.4920163,32.6719866 33.228,35.36 C32.8119979,37.2160093 32.604,38.8319931 32.604,40.208 C32.604,42.6720123 33.307993,43.904 34.716,43.904 C35.9000059,43.904 37.1079938,43.1520075 38.34,41.648 C39.3433795,40.4230951 40.25654,38.9965665 41.0794991,37.3683849 C41.1854177,36.9875288 41.3042513,36.5900673 41.436,36.176 C42.1080034,34.0639894 43.0039944,32.1280088 44.124,30.368 C45.2440056,28.6079912 46.3159949,27.728 47.34,27.728 C48.0440035,27.728 48.396,28.0799965 48.396,28.784 C48.396,29.1680019 47.9800042,30.0479931 47.148,31.424 C46.3159958,32.8000069 45.4840042,34.3599913 44.652,36.104 C43.8199958,37.8480087 43.404,39.3759934 43.404,40.688 C43.404,41.8080056 43.5879982,42.567998 43.956,42.968 C44.3240018,43.368002 44.9239958,43.568 45.756,43.568 C47.954114,43.568 50.1273819,41.6694851 52.275854,37.8724052 C52.7380513,35.7170652 53.7727626,33.6876074 55.38,31.784 C57.6360113,29.1119866 60.0119875,27.776 62.508,27.776 C63.7240061,27.776 64.5959974,28.1199966 65.124,28.808 C65.6520026,29.4960034 65.916,30.335995 65.916,31.328 C65.916,32.2880048 65.7000022,33.1119966 65.268,33.8 C64.8359978,34.4880034 64.2520037,34.832 63.516,34.832 C62.9719973,34.832 62.5080019,34.5920024 62.124,34.112 C62.6040024,33.8879989 63.0199982,33.3840039 63.372,32.6 C63.7240018,31.8159961 63.9,31.0560037 63.9,30.32 C63.9,29.519996 63.5480035,29.12 62.844,29.12 C61.1799917,29.12 59.452009,30.4799864 57.66,33.2 C55.867991,35.9200136 54.972,38.479988 54.972,40.88 C54.972,43.5360133 56.1399883,44.864 58.476,44.864 C60.4280098,44.864 62.3559905,44.064008 64.26,42.464 C65.3845586,41.5189928 66.3556193,40.4009712 67.1731911,39.1099222 C67.5372308,36.6154371 68.8461592,34.0534809 71.1,31.424 C73.7880134,28.2879843 76.5079862,26.72 79.26,26.72 C81.2440099,26.72 82.236,27.6959902 82.236,29.648 C82.236,31.9840117 80.9880125,34.047991 78.492,35.84 C75.9959875,37.632009 73.2760147,38.6719986 70.332,38.96 C70.2039994,39.5040027 70.14,40.079997 70.14,40.688 C70.14,43.3760134 71.4039874,44.72 73.932,44.72 C75.8840098,44.72 77.8519901,43.9040082 79.836,42.272 C81.8200099,40.6399918 83.4359938,38.624012 84.684,36.224 L85.26,36.656 C83.9799936,39.5040142 82.2040114,41.7919914 79.932,43.52 C77.6599886,45.2480086 75.324012,46.112 72.924,46.112 C71.0359906,46.112 69.588005,45.5920052 68.58,44.552 C67.6310625,43.5729375 67.1287974,42.3315654 67.0731918,40.8278503 Z M13.692,28.688 L17.196,29.504 C18.7000075,29.8560018 19.5959986,30.0799995 19.884,30.176 C21.2280067,23.8719685 23.1479875,17.9680275 25.644,12.464 C22.7319854,14.256009 18.7480253,19.6639549 13.692,28.688 Z M33.66,33.728 C36.2840131,31.0719867 38.7479885,27.5760217 41.052,23.24 C43.3560115,18.9039783 44.508,15.8560088 44.508,14.096 C44.508,13.5839974 44.3960011,13.328 44.172,13.328 C43.7239978,13.328 42.8360066,14.3599897 41.508,16.424 C40.1799934,18.4880103 38.7480077,21.1679835 37.212,24.464 C35.6759923,27.7600165 34.4920042,30.8479856 33.66,33.728 Z M47.916,21.68 C47.916,21.0399968 48.2999962,20.4640026 49.068,19.952 C49.8360038,19.4399974 50.619996,19.184 51.42,19.184 C52.4760053,19.184 53.004,19.6639952 53.004,20.624 C53.004,21.2640032 52.6760033,21.8639972 52.02,22.424 C51.3639967,22.9840028 50.6520038,23.264 49.884,23.264 C48.5719934,23.264 47.916,22.7360053 47.916,21.68 Z M70.572,38.048 C72.8120112,37.247996 74.9639897,36.048008 77.028,34.448 C79.0920103,32.847992 80.124,31.1360091 80.124,29.312 C80.124,28.5759963 79.7880034,28.208 79.116,28.208 C77.6119925,28.208 75.9800088,29.2559895 74.22,31.352 C72.4599912,33.4480105 71.2440034,35.6799882 70.572,38.048 Z" fill="#333333"></path>
            </g>
          </svg>
        </ReactCSSTransitionGroup>

        <GeneratorForm onProgress={ setPackagerState } onSubmit={ this.handleSubmit.bind( this ) }></GeneratorForm>

        { packagerState }
      </div>
    );
  }
}
